{"version":3,"sources":["common/constants.js","common/polyfills.js","reducers/AppReducer.jsx","components/Header.jsx","components/HomePageView.jsx","components/ItemPreviewContainer.jsx","components/ItemsList.jsx","components/Main.jsx","stores/AppStore.jsx","app.jsx"],"names":["ACTIONS","CHANGE_CURRENT_ITEM","TOGGLE_PREVIEW_SCREEN","STRINGS","VIEW_MORE","QUICK_VIEW","CURRENCY","HEADER_WELCOME","Object","assign","defineProperty","value","target","varArgs","TypeError","to","index","arguments","length","nextSource","nextKey","prototype","hasOwnProperty","call","writable","configurable","appReducer","state","action","type","previewScreenCurrentItem","homePageAllItems","newItemIndex","isPreviewScreenShown","newState","Header","createReactClass","render","HomePageView","contextTypes","store","PropTypes","object","componentDidMount","context","self","subscribe","forceUpdate","ItemPreviewContainer","hidePreview","dispatch","getState","name","description","price","id","ItemListEntity","propTypes","item","isRequired","showItemPreview","props","ItemsList","elementsToRender","map","Main","initialItems","appStore","Redux","createStore","ReactDOM","document","getElementById"],"mappings":"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","file":"all.js","sourcesContent":["var ACTIONS = {\r\n    CHANGE_CURRENT_ITEM: 'CHANGE_CURRENT_ITEM',\r\n    TOGGLE_PREVIEW_SCREEN: 'TOGGLE_PREVIEW_SCREEN'\r\n\r\n}\r\n\r\nvar STRINGS = {\r\n    VIEW_MORE: 'View Product',\r\n    QUICK_VIEW: 'Quick View',\r\n    CURRENCY: 'BGN',\r\n    HEADER_WELCOME: 'Welcome to our shop!'\r\n}","if (typeof Object.assign != 'function') {\r\n    // Must be writable: true, enumerable: false, configurable: true\r\n    Object.defineProperty(Object, \"assign\", {\r\n        value: function assign(target, varArgs) { // .length of function is 2\r\n            'use strict';\r\n            if (target == null) { // TypeError if undefined or null\r\n                throw new TypeError('Cannot convert undefined or null to object');\r\n            }\r\n\r\n            var to = Object(target);\r\n\r\n            for (var index = 1; index < arguments.length; index++) {\r\n                var nextSource = arguments[index];\r\n\r\n                if (nextSource != null) { // Skip over if undefined or null\r\n                    for (var nextKey in nextSource) {\r\n                        // Avoid bugs when hasOwnProperty is shadowed\r\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                            to[nextKey] = nextSource[nextKey];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        },\r\n        writable: true,\r\n        configurable: true\r\n    });\r\n}","var appReducer = function (state, action) {\r\n    // console.log(action)\r\n    // console.log(state)\r\n\r\n    switch (action.type) {\r\n        case ACTIONS.CHANGE_CURRENT_ITEM:\r\n            return Object.assign({}, state, {\r\n                previewScreenCurrentItem: state.homePageAllItems[action.newItemIndex]\r\n            });\r\n        case ACTIONS.TOGGLE_PREVIEW_SCREEN:\r\n            return Object.assign({}, state, {\r\n                isPreviewScreenShown: action.newState\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}","var Header = createReactClass({\r\n    render: function () {\r\n        return (\r\n            <header id=\"header-container\">\r\n                <h1>{STRINGS.HEADER_WELCOME}</h1>\r\n            </header>\r\n        )\r\n    }\r\n});\r\n","var HomePageView = createReactClass({\r\n    contextTypes: {\r\n        store: PropTypes.object\r\n    },\r\n    componentDidMount: function() {\r\n        var store = this.context.store;\r\n        var self = this;\r\n        store.subscribe(function () {\r\n            self.forceUpdate();\r\n        });\r\n    },\r\n    render: function () {\r\n        return (\r\n            <div id='home-page'>\r\n                <ItemsList />\r\n                <ItemPreviewContainer />\r\n            </div>\r\n        )\r\n    }\r\n});","var ItemPreviewContainer = createReactClass({\r\n    contextTypes: {\r\n        store: PropTypes.object\r\n    },\r\n    hidePreview: function () {\r\n        var store = this.context.store;\r\n        store.dispatch({\r\n            type: ACTIONS.TOGGLE_PREVIEW_SCREEN,\r\n            newState: false\r\n        });\r\n    },\r\n    render: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState();\r\n\r\n        if (state.isPreviewScreenShown) {\r\n            return (\r\n                <div className='item-preview-screen fullscreen-popup'>\r\n                    <div id=\"item-preview-item-container\">\r\n                        <h2 className='item-name'>{state.previewScreenCurrentItem.name}</h2>\r\n                        <div className='item-description'>{state.previewScreenCurrentItem.description}</div>\r\n                        <div className='item-price'>{state.previewScreenCurrentItem.price + ' ' + STRINGS.CURRENCY}</div>\r\n                        <a href={'#product=' + state.previewScreenCurrentItem.id} className='view-more-link'>{STRINGS.VIEW_MORE}</a>\r\n                        <div className=\"close-btn\" onClick={this.hidePreview}>&#215;</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return <div className='item-preview-screen fullscreen-popup hidden' />;\r\n        }\r\n    }\r\n});","var ItemListEntity = createReactClass({\r\n    contextTypes: {\r\n        store: PropTypes.object\r\n    },\r\n    propTypes: {\r\n        item: PropTypes.object.isRequired\r\n    },\r\n    showItemPreview: function () {\r\n        var store = this.context.store;\r\n        store.dispatch({\r\n            type: ACTIONS.CHANGE_CURRENT_ITEM,\r\n            newItemIndex: (this.props.item.id - 1)\r\n        });\r\n\r\n        store.dispatch({\r\n            type: ACTIONS.TOGGLE_PREVIEW_SCREEN,\r\n            newState: true\r\n        });\r\n    },\r\n    render: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState();\r\n\r\n        return (\r\n            <li className='item'>\r\n                <span onClick={this.showItemPreview} className='quick-view-link'>\r\n                    <h3 className='item-name'>{this.props.item.name}</h3>\r\n                    <div className='item-description'>{this.props.item.description}</div>\r\n                    <div className='item-price'>{this.props.item.price + ' ' + STRINGS.CURRENCY}</div>\r\n                    <a href={'#product=' + this.props.item.id} className='item-link'>{STRINGS.VIEW_MORE}</a>\r\n                </span>\r\n            </li>\r\n        )\r\n    }\r\n});\r\n\r\nvar ItemsList = createReactClass({\r\n    contextTypes: {\r\n        store: PropTypes.object\r\n    },\r\n    render: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState();\r\n\r\n        var elementsToRender = state.homePageAllItems.map(function (item) {\r\n            return (\r\n                <ItemListEntity item={item} key={item.id} />\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className='items-list-container'>\r\n                <h2>Items List</h2>\r\n                <ul className='items-list'>\r\n                    {elementsToRender}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n});","var Main = createReactClass({\r\n    render: function () {\r\n        return (\r\n            <div id=\"wrapper\">\r\n                <Header />\r\n                <HomePageView />\r\n            </div>\r\n        );\r\n    }\r\n})","/**\r\n * Dump Data\r\n */\r\nvar initialItems = [\r\n    { id: 1, name: \"Mobile Phone\", description: \"Brand new mobile phone\", price: 750 },\r\n    { id: 2, name: \"Jacket\", description: \"Brand new jacket\", price: 75.50 },\r\n    { id: 3, name: \"Car\", description: \"Brand new car\", price: 7750 },\r\n    { id: 4, name: \"Watch\", description: \"Brand new watch\", price: 110.99 },\r\n    { id: 5, name: \"Car\", description: \"Brand new car\", price: 7750 },\r\n    { id: 6, name: \"Watch\", description: \"Brand new watch\", price: 110.99 },\r\n    { id: 7, name: \"Jacket\", description: \"Brand new jacket\", price: 75.50 },\r\n    { id: 8, name: \"Mobile Phone\", description: \"Brand new mobile phone\", price: 750 },\r\n];\r\n\r\nvar appStore = Redux.createStore(\r\n    appReducer,\r\n    {\r\n        homePageAllItems: initialItems,\r\n        previewScreenCurrentItem: {},\r\n        isPreviewScreenShown: false\r\n    }\r\n);","ReactDOM.render(\r\n    <ReactRedux.Provider store={appStore}>\r\n        <Main />\r\n    </ReactRedux.Provider>,\r\n    document.getElementById('react-app')\r\n);"]}