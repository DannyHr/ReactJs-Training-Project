{"version":3,"sources":["common/constants.js","common/polyfills.js","components/Cart.jsx","components/Header.jsx","components/HomePageView.jsx","components/ItemPreviewContainer.jsx","components/ItemsList.jsx","components/Main.jsx","reducers/AppReducer.jsx","reducers/HeaderReducer.jsx","stores/AppStore.jsx","app.jsx"],"names":["ACTIONS","CHANGE_CURRENT_ITEM","TOGGLE_PREVIEW_SCREEN","ADD_ITEM_TO_CART","REMOVE_ITEM_FROM_CART","TOGGLE_CART_CONTENT_CONTAINER","STRINGS","VIEW_MORE","QUICK_VIEW","CURRENCY","HEADER_WELCOME","ADD_TO_CART","VARS","CART_ITEMS","Object","assign","defineProperty","value","target","varArgs","TypeError","to","index","arguments","length","nextSource","nextKey","prototype","hasOwnProperty","call","writable","configurable","CartItem","createReactClass","contextTypes","store","PropTypes","object","propTypes","item","isRequired","componentDidMount","self","socket","on","id","context","dispatch","type","idToRemove","removeItemFromCart","e","stopPropagation","emit","props","render","console","log","showItemPreview","name","price","CartContent","state","getState","header","itemsInCart","elementsToRender","map","Header","subscribe","forceUpdate","toggleCartContentContainer","newState","isCartContentContainerShown","HomePageView","ItemPreviewContainer","hidePreview","app","isPreviewScreenShown","previewScreenCurrentItem","description","ItemListEntity","newItem","newItemIndex","addItemToCart","ItemsList","homePageAllItems","Main","appReducer","action","initialItems","headerReducer","newArray","concat","itemAlreadyInCart","find","localStorage","setItem","JSON","stringify","filter","parse","getItem","appStore","Redux","createStore","combineReducers","io","ReactDOM","document","getElementById"],"mappings":"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","file":"all.js","sourcesContent":["var ACTIONS = {\r\n    CHANGE_CURRENT_ITEM: 'CHANGE_CURRENT_ITEM',\r\n    TOGGLE_PREVIEW_SCREEN: 'TOGGLE_PREVIEW_SCREEN',\r\n    ADD_ITEM_TO_CART: 'ADD_ITEM_TO_CART',\r\n    REMOVE_ITEM_FROM_CART: 'REMOVE_ITEM_FROM_CART',\r\n    TOGGLE_CART_CONTENT_CONTAINER: 'TOGGLE_CART_CONTENT_CONTAINER'\r\n}\r\n\r\nvar STRINGS = {\r\n    VIEW_MORE: 'View Product',\r\n    QUICK_VIEW: 'Quick View',\r\n    CURRENCY: 'BGN',\r\n    HEADER_WELCOME: 'Welcome to our shop!',\r\n    ADD_TO_CART: 'Add to Cart'\r\n}\r\n\r\nvar VARS = {\r\n    CART_ITEMS: 'cart_items'\r\n}","if (typeof Object.assign != 'function') {\r\n    // Must be writable: true, enumerable: false, configurable: true\r\n    Object.defineProperty(Object, \"assign\", {\r\n        value: function assign(target, varArgs) { // .length of function is 2\r\n            'use strict';\r\n            if (target == null) { // TypeError if undefined or null\r\n                throw new TypeError('Cannot convert undefined or null to object');\r\n            }\r\n\r\n            var to = Object(target);\r\n\r\n            for (var index = 1; index < arguments.length; index++) {\r\n                var nextSource = arguments[index];\r\n\r\n                if (nextSource != null) { // Skip over if undefined or null\r\n                    for (var nextKey in nextSource) {\r\n                        // Avoid bugs when hasOwnProperty is shadowed\r\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                            to[nextKey] = nextSource[nextKey];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        },\r\n        writable: true,\r\n        configurable: true\r\n    });\r\n}","var CartItem = createReactClass({\r\n    contextTypes: {\r\n        store: PropTypes.object\r\n    },\r\n    propTypes: {\r\n        item: PropTypes.object.isRequired\r\n    },\r\n    componentDidMount: function () {\r\n        var self = this;\r\n        socket.on('item_removed', function (id) {\r\n            var store = self.context.store;\r\n            store.dispatch({\r\n                type: ACTIONS.REMOVE_ITEM_FROM_CART,\r\n                idToRemove: id\r\n            });\r\n        });\r\n    },\r\n    removeItemFromCart: function (e) {\r\n        e.stopPropagation();\r\n        var store = this.context.store;\r\n\r\n        socket.emit('item_removed', this.props.item.id);\r\n\r\n        store.dispatch({\r\n            type: ACTIONS.REMOVE_ITEM_FROM_CART,\r\n            idToRemove: this.props.item.id\r\n        });\r\n    },\r\n    render: function () {\r\n        console.log('Render CartItem');\r\n\r\n        return (\r\n            <li className='item'>\r\n                <span onClick={this.showItemPreview} className='item-link'>\r\n                    <h3 className='item-name'>{this.props.item.name}</h3>\r\n                    <div className='item-price'>{this.props.item.price + ' ' + STRINGS.CURRENCY}</div>\r\n                    <div className=\"item-remove-cart\" onClick={this.removeItemFromCart}>&#215;</div>\r\n                </span>\r\n            </li>\r\n        )\r\n    }\r\n})\r\n\r\nvar CartContent = createReactClass({\r\n    contextTypes: {\r\n        store: PropTypes.object\r\n    },\r\n    render: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState().header;\r\n\r\n        console.log('Render CartConent');\r\n\r\n        if (state.itemsInCart.length) {\r\n            var elementsToRender = state.itemsInCart.map(function (item) {\r\n                return (\r\n                    <CartItem item={item} key={item.id} />\r\n                );\r\n            });\r\n\r\n            return (\r\n                <ul className='items-list'>\r\n                    {elementsToRender}\r\n                </ul>\r\n            )\r\n        } else {\r\n            return (\r\n                <div>List is empty</div>\r\n            )\r\n        }\r\n    }\r\n});","var Header = createReactClass({\r\n    contextTypes: {\r\n        store: PropTypes.object\r\n    },\r\n    componentDidMount: function () {\r\n        var store = this.context.store;\r\n        var self = this;\r\n        store.subscribe(function () {\r\n            self.forceUpdate();\r\n        });\r\n    },\r\n    toggleCartContentContainer: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState().header;\r\n        \r\n        var newState = !(state.isCartContentContainerShown);\r\n\r\n        store.dispatch({\r\n            type: ACTIONS.TOGGLE_CART_CONTENT_CONTAINER,\r\n            newState: newState\r\n        });\r\n    },\r\n    render: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState().header;\r\n\r\n        console.log('Render Header');\r\n\r\n        return (\r\n            <header id=\"header-container\">\r\n                <div id=\"header-wrapper\">\r\n                    <h1>{STRINGS.HEADER_WELCOME}</h1>\r\n                    <nav id=\"header-navigation\">\r\n                        <div id=\"cart\" onClick={this.toggleCartContentContainer}>&#128722;\r\n                            <div id=\"cart-content-container\" className={'' + (state.isCartContentContainerShown ? '' : 'hidden')}>\r\n                                <CartContent />\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"nav-menu\">&#9776;</div>\r\n                    </nav>\r\n                </div>\r\n            </header>\r\n        )\r\n    }\r\n});\r\n","var HomePageView = createReactClass({\r\n    contextTypes: {\r\n        store: PropTypes.object\r\n    },\r\n    componentDidMount: function() {\r\n        var store = this.context.store;\r\n        var self = this;\r\n        store.subscribe(function () {\r\n            self.forceUpdate();\r\n        });\r\n    },\r\n    render: function () {\r\n        return (\r\n            <div id='home-page'>\r\n                <ItemsList />\r\n                <ItemPreviewContainer />\r\n            </div>\r\n        )\r\n    }\r\n});","var ItemPreviewContainer = createReactClass({\r\n    contextTypes: {\r\n        store: PropTypes.object\r\n    },\r\n    hidePreview: function () {\r\n        var store = this.context.store;\r\n        \r\n        store.dispatch({\r\n            type: ACTIONS.TOGGLE_PREVIEW_SCREEN,\r\n            newState: false\r\n        });\r\n    },\r\n    render: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState().app;\r\n\r\n        console.log('Render Header');        \r\n\r\n        if (state.isPreviewScreenShown) {\r\n            return (\r\n                <div className='item-preview-screen fullscreen-popup'>\r\n                    <div id=\"item-preview-item-container\">\r\n                        <h2 className='item-name'>{state.previewScreenCurrentItem.name}</h2>\r\n                        <div className='item-description'>{state.previewScreenCurrentItem.description}</div>\r\n                        <div className='item-price'>{state.previewScreenCurrentItem.price + ' ' + STRINGS.CURRENCY}</div>\r\n                        <a href={'#product=' + state.previewScreenCurrentItem.id} className='view-more-link'>{STRINGS.VIEW_MORE}</a>\r\n                        <div className=\"close-btn\" onClick={this.hidePreview}>&#215;</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return <div className='item-preview-screen fullscreen-popup hidden' />;\r\n        }\r\n    }\r\n});","var ItemListEntity = createReactClass({\r\n    contextTypes: {\r\n        store: PropTypes.object\r\n    },\r\n    propTypes: {\r\n        item: PropTypes.object.isRequired\r\n    },\r\n    componentDidMount: function () {\r\n        var self = this;\r\n        socket.on('item_added', function (item) {\r\n            var store = self.context.store;\r\n            \r\n            store.dispatch({\r\n                type: ACTIONS.ADD_ITEM_TO_CART,\r\n                newItem: item\r\n            });\r\n        });\r\n    },\r\n    showItemPreview: function () {\r\n        var store = this.context.store;\r\n        store.dispatch({\r\n            type: ACTIONS.CHANGE_CURRENT_ITEM,\r\n            newItemIndex: (this.props.item.id - 1)\r\n        });\r\n\r\n        store.dispatch({\r\n            type: ACTIONS.TOGGLE_PREVIEW_SCREEN,\r\n            newState: true\r\n        });\r\n    },\r\n    addItemToCart: function (e) {\r\n        e.stopPropagation();\r\n        var store = this.context.store;\r\n\r\n        socket.emit('item_added', this.props.item);        \r\n\r\n        store.dispatch({\r\n            type: ACTIONS.ADD_ITEM_TO_CART,\r\n            newItem: this.props.item\r\n        });\r\n    },\r\n    render: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState().app;\r\n        var self = this;\r\n\r\n        console.log('Render ItemListEntity');\r\n\r\n        return (\r\n            <li className='item'>\r\n                <span onClick={this.showItemPreview} className='quick-view-link'>\r\n                    <h3 className='item-name'>{this.props.item.name}</h3>\r\n                    <div className='item-description'>{this.props.item.description}</div>\r\n                    <div className='item-price'>{this.props.item.price + ' ' + STRINGS.CURRENCY}</div>\r\n                    <a href={'#product=' + this.props.item.id} className='item-link'>{STRINGS.VIEW_MORE}</a>\r\n                    <span className='item-add-cart' onClick={this.addItemToCart}>{STRINGS.ADD_TO_CART}</span>\r\n                </span>\r\n            </li >\r\n        )\r\n    }\r\n});\r\n\r\nvar ItemsList = createReactClass({\r\n    contextTypes: {\r\n        store: PropTypes.object\r\n    },\r\n    render: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState().app;\r\n\r\n        console.log('Render ItemsList');\r\n\r\n        var elementsToRender = state.homePageAllItems.map(function (item) {\r\n            return (\r\n                <ItemListEntity item={item} key={item.id} />\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className='items-list-container'>\r\n                <h2>Items List</h2>\r\n                <ul className='items-list'>\r\n                    {elementsToRender}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n});","var Main = createReactClass({\r\n    render: function () {\r\n        return (\r\n            <div id=\"wrapper\">\r\n                <Header />\r\n                <HomePageView />\r\n            </div>\r\n        );\r\n    }\r\n})","var appReducer = function (state, action) {\r\n    switch (action.type) {\r\n        case ACTIONS.CHANGE_CURRENT_ITEM:\r\n            return Object.assign({}, state, {\r\n                previewScreenCurrentItem: state.homePageAllItems[action.newItemIndex]\r\n            });\r\n        case ACTIONS.TOGGLE_PREVIEW_SCREEN:\r\n            return Object.assign({}, state, {\r\n                isPreviewScreenShown: action.newState\r\n            });\r\n        default:\r\n            return state || {\r\n                homePageAllItems: initialItems,\r\n                previewScreenCurrentItem: {},\r\n                isPreviewScreenShown: false\r\n            };\r\n    }\r\n}","var headerReducer = function (state, action) {\r\n    switch (action.type) {\r\n        case ACTIONS.ADD_ITEM_TO_CART:\r\n            var newItem = action.newItem;\r\n            var newArray = state.itemsInCart.concat(newItem);\r\n\r\n            var itemAlreadyInCart = state.itemsInCart.find(function (item) { return newItem.id == item.id });\r\n\r\n            if (!itemAlreadyInCart) {\r\n                localStorage.setItem(VARS.CART_ITEMS, JSON.stringify(newArray));\r\n\r\n                return Object.assign({}, state, {\r\n                    itemsInCart: newArray\r\n                });\r\n            } else {\r\n                return state;\r\n            }\r\n        case ACTIONS.REMOVE_ITEM_FROM_CART:\r\n            var newArray = state.itemsInCart.filter(function (item) { return item.id != action.idToRemove })\r\n\r\n            localStorage.setItem(VARS.CART_ITEMS, JSON.stringify(newArray));\r\n\r\n            return Object.assign({}, state, {\r\n                itemsInCart: newArray\r\n            });\r\n        case ACTIONS.TOGGLE_CART_CONTENT_CONTAINER:\r\n            console.log(state)\r\n            return Object.assign({}, state, {\r\n                isCartContentContainerShown: action.newState\r\n            });\r\n        default:\r\n            return state || {\r\n                itemsInCart: JSON.parse(localStorage.getItem(VARS.CART_ITEMS)) || [],\r\n                isCartContentContainerShown: false,\r\n            };\r\n    }\r\n}","/**\r\n * Dump Data\r\n */\r\nvar initialItems = [\r\n    { id: 1, name: \"Mobile Phone\", description: \"Brand new mobile phone\", price: 750 },\r\n    { id: 2, name: \"Jacket\", description: \"Brand new jacket\", price: 75.50 },\r\n    { id: 3, name: \"Car\", description: \"Brand new car\", price: 7750 },\r\n    { id: 4, name: \"Watch\", description: \"Brand new watch\", price: 110.99 },\r\n    { id: 5, name: \"Car\", description: \"Brand new car\", price: 7750 },\r\n    { id: 6, name: \"Watch\", description: \"Brand new watch\", price: 110.99 },\r\n    { id: 7, name: \"Jacket\", description: \"Brand new jacket\", price: 75.50 },\r\n    { id: 8, name: \"Mobile Phone\", description: \"Brand new mobile phone\", price: 750 },\r\n];\r\n\r\nvar appStore = Redux.createStore(\r\n    Redux.combineReducers({\r\n        app: appReducer,\r\n        header: headerReducer\r\n    })\r\n);","var socket = io();\r\n\r\nReactDOM.render(\r\n    <ReactRedux.Provider store={appStore}>\r\n        <Main />\r\n    </ReactRedux.Provider>,\r\n    document.getElementById('react-app')\r\n);"]}