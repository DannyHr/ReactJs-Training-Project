{"version":3,"sources":["common/constants.js","common/polyfills.js","components/Header.jsx","components/HomePageView.jsx","components/ItemPreviewContainer.jsx","components/ItemsList.jsx","components/Main.jsx","reducers/AppReducer.jsx","stores/AppStore.jsx","app.jsx"],"names":["ACTIONS","CHANGE_CURRENT_ITEM","TOGGLE_PREVIEW_SCREEN","STRINGS","VIEW_MORE","QUICK_VIEW","CURRENCY","HEADER_WELCOME","Object","assign","defineProperty","value","target","varArgs","TypeError","to","index","arguments","length","nextSource","nextKey","prototype","hasOwnProperty","call","writable","configurable","Header","createReactClass","render","HomePageView","componentDidMount","store","context","subscribe","forceUpdate","contextTypes","PropTypes","object","ItemPreviewContainer","hidePreview","dispatch","type","newState","state","getState","isPreviewScreenShown","previewScreenCurrentItem","name","description","price","id","ItemListEntity","propTypes","item","isRequired","showItemPreview","newItemIndex","props","ItemsList","elementsToRender","homePageAllItems","map","Main","appReducer","action","initialItems","appStore","Redux","createStore","ReactDOM","document","getElementById"],"mappings":"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","file":"all.js","sourcesContent":["var ACTIONS = {\r\n    CHANGE_CURRENT_ITEM: 'CHANGE_CURRENT_ITEM',\r\n    TOGGLE_PREVIEW_SCREEN: 'TOGGLE_PREVIEW_SCREEN'\r\n\r\n}\r\n\r\nvar STRINGS = {\r\n    VIEW_MORE: 'View Product',\r\n    QUICK_VIEW: 'Quick View',\r\n    CURRENCY: 'BGN',\r\n    HEADER_WELCOME: 'Welcome to our shop!'\r\n}","if (typeof Object.assign != 'function') {\r\n    // Must be writable: true, enumerable: false, configurable: true\r\n    Object.defineProperty(Object, \"assign\", {\r\n        value: function assign(target, varArgs) { // .length of function is 2\r\n            'use strict';\r\n            if (target == null) { // TypeError if undefined or null\r\n                throw new TypeError('Cannot convert undefined or null to object');\r\n            }\r\n\r\n            var to = Object(target);\r\n\r\n            for (var index = 1; index < arguments.length; index++) {\r\n                var nextSource = arguments[index];\r\n\r\n                if (nextSource != null) { // Skip over if undefined or null\r\n                    for (var nextKey in nextSource) {\r\n                        // Avoid bugs when hasOwnProperty is shadowed\r\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                            to[nextKey] = nextSource[nextKey];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        },\r\n        writable: true,\r\n        configurable: true\r\n    });\r\n}","var Header = createReactClass({\r\n    render: function () {\r\n        return (\r\n            <header id=\"header-container\">\r\n                <h1>{STRINGS.HEADER_WELCOME}</h1>\r\n            </header>\r\n        )\r\n    }\r\n});\r\n","var HomePageView = createReactClass({\r\n    componentDidMount: function() {\r\n        var store = this.context.store;\r\n        store.subscribe(function () {\r\n            this.forceUpdate();\r\n        });\r\n    },\r\n    render: function () {\r\n        return (\r\n            <div id='home-page'>\r\n                <ItemsList />\r\n                <ItemPreviewContainer />\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nHomePageView.contextTypes = {\r\n    store: PropTypes.object\r\n}","var ItemPreviewContainer = createReactClass({\r\n    hidePreview: function () {\r\n        var store = this.context.store;\r\n        store.dispatch({\r\n            type: ACTIONS.TOGGLE_PREVIEW_SCREEN,\r\n            newState: false\r\n        });\r\n    },\r\n    render: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState();\r\n\r\n        if (state.isPreviewScreenShown) {\r\n            return (\r\n                <div className='item-preview-screen fullscreen-popup'>\r\n                    <div id=\"item-preview-item-container\">\r\n                        <h2 className='item-name'>{state.previewScreenCurrentItem.name}</h2>\r\n                        <div className='item-description'>{state.previewScreenCurrentItem.description}</div>\r\n                        <div className='item-price'>{state.previewScreenCurrentItem.price + ' ' + STRINGS.CURRENCY}</div>\r\n                        <a href={'#product=' + state.previewScreenCurrentItem.id} className='view-more-link'>{STRINGS.VIEW_MORE}</a>\r\n                        <div className=\"close-btn\" onClick={this.hidePreview}>&#215;</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return <div className='item-preview-screen fullscreen-popup hidden' />;\r\n        }\r\n    }\r\n});\r\n\r\nItemPreviewContainer.contextTypes = {\r\n    store: PropTypes.object\r\n}","var ItemListEntity = createReactClass({\r\n    propTypes: {\r\n        item: PropTypes.object.isRequired\r\n    },\r\n    showItemPreview: function () {\r\n        var store = this.context.store;\r\n        store.dispatch({\r\n            type: ACTIONS.CHANGE_CURRENT_ITEM,\r\n            newItemIndex: (this.props.item.id - 1)\r\n        });\r\n\r\n        store.dispatch({\r\n            type: ACTIONS.TOGGLE_PREVIEW_SCREEN,\r\n            newState: true\r\n        });\r\n    },\r\n    render: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState();\r\n\r\n        return (\r\n            <li className='item'>\r\n                <span onClick={this.showItemPreview}  className='quick-view-link'>\r\n                    <h3 className='item-name'>{this.props.item.name}</h3>\r\n                    <div className='item-description'>{this.props.item.description}</div>\r\n                    <div className='item-price'>{this.props.item.price + ' ' + STRINGS.CURRENCY}</div>\r\n                    <a href={'#product=' + this.props.item.id} className='item-link'>{STRINGS.VIEW_MORE}</a>\r\n                </span>\r\n            </li>\r\n        )\r\n    }\r\n});\r\n\r\nItemListEntity.contextTypes = {\r\n    store: PropTypes.object\r\n}\r\n\r\nvar ItemsList = createReactClass({\r\n    render: function () {\r\n        var store = this.context.store;\r\n        var state = store.getState();\r\n\r\n        var elementsToRender = state.homePageAllItems.map(function (item) {\r\n            return (\r\n                <ItemListEntity item={item} key={item.id} />\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className='items-list-container'>\r\n                <h2>Items List</h2>\r\n                <ul className='items-list'>\r\n                    {elementsToRender}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n});\r\n\r\nItemsList.contextTypes = {\r\n    store: PropTypes.object\r\n}","var Main = createReactClass({\r\n    render: function () {\r\n        return (\r\n            <div id=\"wrapper\">\r\n                <Header />\r\n                <HomePageView />\r\n            </div>\r\n        );\r\n    }\r\n})","var appReducer = function (state, action) {\r\n    // console.log(action)\r\n    // console.log(state)\r\n\r\n    switch (action.type) {\r\n        case ACTIONS.CHANGE_CURRENT_ITEM:\r\n            return Object.assign({}, state, {\r\n                previewScreenCurrentItem: state.homePageAllItems[action.newItemIndex]\r\n            });\r\n        case ACTIONS.TOGGLE_PREVIEW_SCREEN:\r\n            return Object.assign({}, state, {\r\n                isPreviewScreenShown: action.newState\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}","/**\r\n * Dump Data\r\n */\r\nvar initialItems = [\r\n    { id: 1, name: \"Mobile Phone\", description: \"Brand new mobile phone\", price: 750 },\r\n    { id: 2, name: \"Jacket\", description: \"Brand new jacket\", price: 75.50 },\r\n    { id: 3, name: \"Car\", description: \"Brand new car\", price: 7750 },\r\n    { id: 4, name: \"Watch\", description: \"Brand new watch\", price: 110.99 },\r\n    { id: 5, name: \"Car\", description: \"Brand new car\", price: 7750 },\r\n    { id: 6, name: \"Watch\", description: \"Brand new watch\", price: 110.99 },\r\n    { id: 7, name: \"Jacket\", description: \"Brand new jacket\", price: 75.50 },\r\n    { id: 8, name: \"Mobile Phone\", description: \"Brand new mobile phone\", price: 750 },\r\n];\r\n\r\nvar appStore = Redux.createStore(\r\n    appReducer,\r\n    {\r\n        homePageAllItems: initialItems,\r\n        previewScreenCurrentItem: {},\r\n        isPreviewScreenShown: false\r\n    }\r\n);","ReactDOM.render(\r\n    <ReactRedux.Provider store={appStore}>\r\n        <Main />\r\n    </ReactRedux.Provider>,\r\n    document.getElementById('react-app')\r\n);"]}